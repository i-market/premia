<form class="block" method="post" action="{{ action }}" name="{{ name }}" novalidate>
    <span class="close"></span>
    <strong>{{ title }}</strong>
    {% for field in fields %}
        {% set class = field.error ? 'error' : '' %}
        {% set type = field.type or 'text' %}
        {% if type == 'textarea' %}
            <textarea name="{{ field.name }}" placeholder="{{ field.label }}" class="{{ class }}"></textarea>
        {% else %}
            <input name="{{ field.name }}" type="{{ type }}" placeholder="{{ field.label }}" class="{{ class }}">
        {% endif %}
        {# always render for correct virtual-dom diffing #}
        {% set display = field.error.message ? 'block' : 'none' %}
        <div class="error-message" style="display: {{ display }}">{{ field.error.message }}</div>
    {% endfor %}
    <div class="bottom">
        <button type="submit" class="btn">отправить</button>
    </div>
</form>